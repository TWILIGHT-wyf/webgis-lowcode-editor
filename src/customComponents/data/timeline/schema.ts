/**
 * Timeline 时间轴组件属性配置
 */
import { registerSchema, type Field } from '@/components/siderBar/properties/schema/types'

const styleSchema: Field[] = [
  {
    key: 'backgroundColor',
    label: '背景颜色',
    type: 'color',
    default: '#ffffff',
  },
  {
    key: 'borderRadius',
    label: '圆角(px)',
    type: 'number',
    min: 0,
    max: 20,
    step: 1,
    default: 4,
  },
  {
    key: 'padding',
    label: '容器内边距(px)',
    type: 'number',
    min: 0,
    max: 50,
    step: 1,
    default: 16,
  },
  {
    key: 'timelinePadding',
    label: '时间轴左边距(px)',
    type: 'number',
    min: 0,
    max: 50,
    step: 1,
    default: 0,
  },
  {
    key: 'cardMargin',
    label: '卡片间距(px)',
    type: 'number',
    min: 0,
    max: 50,
    step: 1,
    default: 12,
  },
  {
    key: 'cardBorderRadius',
    label: '卡片圆角(px)',
    type: 'number',
    min: 0,
    max: 20,
    step: 1,
    default: 4,
  },
  {
    key: 'headerFontSize',
    label: '卡片标题字体大小(px)',
    type: 'number',
    min: 10,
    max: 30,
    step: 1,
    default: 15,
  },
  {
    key: 'headerColor',
    label: '卡片标题颜色',
    type: 'color',
    default: '#303133',
  },
  {
    key: 'headerFontWeight',
    label: '卡片标题字重',
    type: 'select',
    options: [
      { label: '常规', value: 'normal' },
      { label: '中等', value: '500' },
      { label: '加粗', value: '600' },
    ],
    default: '600',
  },
  {
    key: 'contentFontSize',
    label: '卡片内容字体大小(px)',
    type: 'number',
    min: 10,
    max: 24,
    step: 1,
    default: 14,
  },
  {
    key: 'contentColor',
    label: '卡片内容颜色',
    type: 'color',
    default: '#606266',
  },
  {
    key: 'titleFontSize',
    label: '简单模式标题字体大小(px)',
    type: 'number',
    min: 10,
    max: 30,
    step: 1,
    default: 15,
  },
  {
    key: 'titleColor',
    label: '简单模式标题颜色',
    type: 'color',
    default: '#303133',
  },
  {
    key: 'titleFontWeight',
    label: '简单模式标题字重',
    type: 'select',
    options: [
      { label: '常规', value: 'normal' },
      { label: '中等', value: '500' },
      { label: '加粗', value: '600' },
    ],
    default: '600',
  },
]

const dataSourceSchema: Field[] = [
  {
    key: 'enabled',
    label: '启用数据源',
    type: 'switch',
    default: false,
  },
  {
    key: 'url',
    label: 'API 地址',
    type: 'text',
    placeholder: 'http://localhost:3001/api/timeline-events',
    default: '',
  },
  {
    key: 'method',
    label: '请求方法',
    type: 'select',
    options: [
      { label: 'GET', value: 'GET' },
      { label: 'POST', value: 'POST' },
    ],
    default: 'GET',
  },
  {
    key: 'interval',
    label: '自动刷新(秒)',
    type: 'number',
    min: 0,
    max: 3600,
    step: 1,
    default: 0,
  },
  {
    key: 'dataPath',
    label: '数据路径',
    type: 'text',
    placeholder: '例: data 或 result.events',
    default: '',
  },
  {
    key: 'headers',
    label: '请求头(JSON)',
    type: 'text',
    placeholder: '{"Authorization": "Bearer token"}',
    default: '',
  },
]

const componentSchema: Field[] = [
  {
    key: 'data',
    label: '时间轴数据(JSON)',
    type: 'text',
    placeholder: '[{"title":"标题","content":"内容","timestamp":"2024-01-01"}]',
    default: '',
  },
  {
    key: 'showCard',
    label: '使用卡片模式',
    type: 'switch',
    default: true,
  },
  {
    key: 'showTitle',
    label: '显示标题',
    type: 'switch',
    default: true,
  },
  {
    key: 'showTimestamp',
    label: '显示时间戳',
    type: 'switch',
    default: true,
  },
  {
    key: 'showExtra',
    label: '显示扩展信息',
    type: 'switch',
    default: false,
  },
  {
    key: 'timestampPlacement',
    label: '时间戳位置',
    type: 'select',
    options: [
      { label: '上方', value: 'top' },
      { label: '下方', value: 'bottom' },
    ],
    default: 'top',
  },
  {
    key: 'itemSize',
    label: '节点大小',
    type: 'select',
    options: [
      { label: '普通', value: 'normal' },
      { label: '大', value: 'large' },
    ],
    default: 'normal',
  },
  {
    key: 'hollow',
    label: '空心节点',
    type: 'switch',
    default: false,
  },
  {
    key: 'cardShadow',
    label: '卡片阴影',
    type: 'select',
    options: [
      { label: '始终显示', value: 'always' },
      { label: '悬停显示', value: 'hover' },
      { label: '不显示', value: 'never' },
    ],
    default: 'hover',
  },
  {
    key: 'emptyText',
    label: '空数据文本',
    type: 'text',
    placeholder: '暂无数据',
    default: '暂无数据',
  },
  {
    key: 'scrollHeight',
    label: '滚动容器高度',
    type: 'text',
    placeholder: '100% 或 300px',
    default: '100%',
  },
  {
    key: 'titleField',
    label: '标题字段名',
    type: 'text',
    placeholder: 'title',
    default: 'title',
  },
  {
    key: 'contentField',
    label: '内容字段名',
    type: 'text',
    placeholder: 'content',
    default: 'content',
  },
  {
    key: 'timestampField',
    label: '时间戳字段名',
    type: 'text',
    placeholder: 'timestamp',
    default: 'timestamp',
  },
  {
    key: 'typeField',
    label: '类型字段名',
    type: 'text',
    placeholder: 'type',
    default: 'type',
  },
  {
    key: 'colorField',
    label: '颜色字段名',
    type: 'text',
    placeholder: 'color',
    default: 'color',
  },
  {
    key: 'extraField',
    label: '扩展信息字段名',
    type: 'text',
    placeholder: 'extra',
    default: 'extra',
  },
]

registerSchema({
  types: ['timeline'],
  styleSchema,
  dataSourceSchema,
  componentSchema,
})
