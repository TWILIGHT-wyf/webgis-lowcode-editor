<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ•°æ®æºåŠŸèƒ½æµ‹è¯•</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB',
          'Microsoft YaHei', sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }
      .container {
        max-width: 1400px;
        margin: 0 auto;
      }
      h1 {
        color: white;
        text-align: center;
        margin-bottom: 30px;
        font-size: 32px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
      }
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }
      .card {
        background: white;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        transition:
          transform 0.3s,
          box-shadow 0.3s;
      }
      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
      }
      .card h2 {
        color: #667eea;
        font-size: 18px;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .card .icon {
        font-size: 24px;
      }
      .card p {
        color: #666;
        font-size: 14px;
        line-height: 1.6;
        margin-bottom: 15px;
      }
      .data-display {
        background: #f5f7fa;
        border-radius: 8px;
        padding: 15px;
        min-height: 60px;
        font-size: 20px;
        font-weight: bold;
        color: #333;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        border: 2px solid #e4e7ed;
        word-break: break-all;
      }
      .loading {
        color: #409eff;
        font-style: italic;
      }
      .error {
        color: #f56c6c;
        font-size: 14px;
      }
      .info-box {
        background: white;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }
      .info-box h3 {
        color: #667eea;
        margin-bottom: 15px;
        font-size: 20px;
      }
      .info-box ul {
        list-style: none;
        padding: 0;
      }
      .info-box li {
        padding: 8px 0;
        color: #606266;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .info-box li::before {
        content: 'â–¸';
        color: #667eea;
        font-weight: bold;
      }
      .api-list {
        background: white;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
      }
      .api-list h3 {
        color: #667eea;
        margin-bottom: 20px;
        font-size: 20px;
      }
      .api-item {
        background: #f9fafc;
        border-left: 4px solid #667eea;
        padding: 15px;
        margin-bottom: 15px;
        border-radius: 4px;
      }
      .api-item strong {
        color: #303133;
        font-size: 16px;
        display: block;
        margin-bottom: 8px;
      }
      .api-item code {
        background: #ecf5ff;
        color: #409eff;
        padding: 2px 8px;
        border-radius: 4px;
        font-size: 13px;
        display: inline-block;
        margin: 4px 0;
      }
      .api-item .path {
        color: #909399;
        font-size: 13px;
        margin-top: 5px;
      }
      .status {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 12px;
        font-size: 12px;
        font-weight: bold;
        margin-left: 10px;
      }
      .status.running {
        background: #67c23a;
        color: white;
      }
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.6;
        }
      }
      .pulse {
        animation: pulse 2s ease-in-out infinite;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸš€ æ•°æ®æºåŠŸèƒ½æµ‹è¯•é¡µé¢ <span class="status running">è¿è¡Œä¸­</span></h1>

      <div class="info-box">
        <h3>ğŸ“‹ ä½¿ç”¨è¯´æ˜</h3>
        <ul>
          <li>æœ¬é¡µé¢å†…ç½®äº†æ¨¡æ‹Ÿ API æœåŠ¡å™¨ï¼Œæ— éœ€é¢å¤–å¯åŠ¨åç«¯</li>
          <li>æ¯ä¸ªå¡ç‰‡å±•ç¤ºä¸åŒçš„æ•°æ®æºæµ‹è¯•åœºæ™¯</li>
          <li>å¤åˆ¶ä¸‹æ–¹çš„ API åœ°å€å’Œæ•°æ®è·¯å¾„ï¼Œé…ç½®åˆ°æ‚¨çš„ Text ç»„ä»¶ä¸­</li>
          <li>æ‰€æœ‰æ•°æ®æ¯éš”å‡ ç§’è‡ªåŠ¨æ›´æ–°ï¼ˆæ¨¡æ‹Ÿå®æ—¶æ•°æ®ï¼‰</li>
        </ul>
      </div>

      <div class="grid">
        <!-- ç®€å•æ–‡æœ¬ -->
        <div class="card">
          <h2><span class="icon">ğŸ“</span>ç®€å•æ–‡æœ¬</h2>
          <p>æœ€åŸºç¡€çš„æ–‡æœ¬è·å–æµ‹è¯•</p>
          <div class="data-display" id="text1">åŠ è½½ä¸­...</div>
        </div>

        <!-- åµŒå¥—æ•°æ® -->
        <div class="card">
          <h2><span class="icon">ğŸ¯</span>åµŒå¥—æ•°æ®</h2>
          <p>æµ‹è¯•é€šè¿‡è·¯å¾„æå–æ·±å±‚æ•°æ®</p>
          <div class="data-display" id="text2">åŠ è½½ä¸­...</div>
        </div>

        <!-- å®æ—¶æ—¶é—´ -->
        <div class="card">
          <h2><span class="icon">â°</span>å®æ—¶æ—¶é—´</h2>
          <p>æ¯ç§’æ›´æ–°çš„æ—¶é—´æ•°æ®</p>
          <div class="data-display pulse" id="text3">åŠ è½½ä¸­...</div>
        </div>

        <!-- éšæœºæ•° -->
        <div class="card">
          <h2><span class="icon">ğŸ²</span>éšæœºæ•°æ®</h2>
          <p>æ¯æ¬¡è¯·æ±‚è¿”å›ä¸åŒçš„éšæœºæ•°</p>
          <div class="data-display" id="text4">åŠ è½½ä¸­...</div>
        </div>

        <!-- è®¡æ•°å™¨ -->
        <div class="card">
          <h2><span class="icon">ğŸ”¢</span>è®¡æ•°å™¨</h2>
          <p>ç´¯åŠ è®¡æ•°å™¨ï¼Œæµ‹è¯•è½®è¯¢æ•ˆæœ</p>
          <div class="data-display" id="text5">åŠ è½½ä¸­...</div>
        </div>

        <!-- æ¸©åº¦æ•°æ® -->
        <div class="card">
          <h2><span class="icon">ğŸŒ¡ï¸</span>æ¸©åº¦ä¼ æ„Ÿå™¨</h2>
          <p>æ¨¡æ‹Ÿç‰©è”ç½‘è®¾å¤‡æ•°æ®</p>
          <div class="data-display" id="text6">åŠ è½½ä¸­...</div>
        </div>
      </div>

      <div class="api-list">
        <h3>ğŸ”Œ å¯ç”¨çš„ API æ¥å£</h3>

        <div class="api-item">
          <strong>1. ç®€å•æ–‡æœ¬æ¥å£</strong>
          <div><code>GET /api/text</code></div>
          <div class="path">æ•°æ®è·¯å¾„: <code>text</code></div>
        </div>

        <div class="api-item">
          <strong>2. åµŒå¥—æ•°æ®æ¥å£</strong>
          <div><code>GET /api/nested</code></div>
          <div class="path">æ•°æ®è·¯å¾„: <code>data.message</code> æˆ– <code>data.user.name</code></div>
        </div>

        <div class="api-item">
          <strong>3. æ—¶é—´æ¥å£ï¼ˆè½®è¯¢ï¼‰</strong>
          <div><code>GET /api/time</code></div>
          <div class="path">æ•°æ®è·¯å¾„: <code>time</code></div>
          <div class="path">å»ºè®®åˆ·æ–°é—´éš”: 1 ç§’</div>
        </div>

        <div class="api-item">
          <strong>4. éšæœºæ•°æ¥å£</strong>
          <div><code>GET /api/random</code></div>
          <div class="path">æ•°æ®è·¯å¾„: <code>value</code></div>
          <div class="path">å»ºè®®åˆ·æ–°é—´éš”: 2 ç§’</div>
        </div>

        <div class="api-item">
          <strong>5. è®¡æ•°å™¨æ¥å£</strong>
          <div><code>GET /api/counter</code></div>
          <div class="path">æ•°æ®è·¯å¾„: <code>count</code></div>
          <div class="path">å»ºè®®åˆ·æ–°é—´éš”: 3 ç§’</div>
        </div>

        <div class="api-item">
          <strong>6. æ¸©åº¦æ•°æ®æ¥å£</strong>
          <div><code>GET /api/temperature</code></div>
          <div class="path">æ•°æ®è·¯å¾„: <code>data.value</code> æˆ– <code>data.unit</code></div>
          <div class="path">å»ºè®®åˆ·æ–°é—´éš”: 5 ç§’</div>
        </div>

        <div class="api-item">
          <strong>7. æ•°ç»„æ•°æ®æ¥å£</strong>
          <div><code>GET /api/list</code></div>
          <div class="path">
            æ•°æ®è·¯å¾„: <code>items[0].name</code> æˆ– <code>items[1].value</code>
          </div>
        </div>
      </div>
    </div>

    <script>
      // æ¨¡æ‹Ÿ API æœåŠ¡å™¨
      const mockAPI = {
        counter: 0,

        '/api/text': () => ({
          text: 'è¿™æ˜¯ä» API è·å–çš„æ–‡æœ¬å†…å®¹',
        }),

        '/api/nested': () => ({
          code: 200,
          data: {
            message: 'æ¬¢è¿ä½¿ç”¨æ•°æ®æºåŠŸèƒ½ï¼',
            user: {
              name: 'å¼ ä¸‰',
              id: 1001,
            },
          },
        }),

        '/api/time': () => ({
          time: new Date().toLocaleTimeString('zh-CN'),
          date: new Date().toLocaleDateString('zh-CN'),
          timestamp: Date.now(),
        }),

        '/api/random': () => ({
          value: Math.floor(Math.random() * 1000),
          message: 'éšæœºæ•°å·²ç”Ÿæˆ',
        }),

        '/api/counter': () => ({
          count: ++mockAPI.counter,
          message: `è¿™æ˜¯ç¬¬ ${mockAPI.counter} æ¬¡è¯·æ±‚`,
        }),

        '/api/temperature': () => ({
          data: {
            value: (20 + Math.random() * 10).toFixed(1),
            unit: 'Â°C',
            location: 'å®éªŒå®¤',
            status: 'normal',
          },
        }),

        '/api/list': () => ({
          items: [
            { id: 1, name: 'é¡¹ç›®A', value: Math.floor(Math.random() * 100) },
            { id: 2, name: 'é¡¹ç›®B', value: Math.floor(Math.random() * 100) },
            { id: 3, name: 'é¡¹ç›®C', value: Math.floor(Math.random() * 100) },
          ],
        }),
      }

      // æ¨¡æ‹Ÿ fetch è¯·æ±‚
      function mockFetch(url) {
        return new Promise((resolve) => {
          setTimeout(() => {
            const path = url.replace(window.location.origin, '')
            const handler = mockAPI[path]

            if (handler) {
              resolve({
                ok: true,
                json: () => Promise.resolve(handler()),
              })
            } else {
              resolve({
                ok: false,
                json: () => Promise.resolve({ error: 'æ¥å£ä¸å­˜åœ¨' }),
              })
            }
          }, 300) // æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
        })
      }

      // è·å–åµŒå¥—å€¼
      function getValueByPath(obj, path) {
        if (!path) return obj

        const keys = path.replace(/\[(\d+)\]/g, '.$1').split('.')
        let result = obj

        for (const key of keys) {
          if (result === null || result === undefined) return null
          result = result[key]
        }

        return result
      }

      // æ›´æ–°æ˜¾ç¤º
      async function updateDisplay(elementId, apiPath, dataPath) {
        const element = document.getElementById(elementId)

        try {
          element.classList.add('loading')
          const response = await mockFetch(window.location.origin + apiPath)
          const data = await response.json()

          let displayValue = dataPath ? getValueByPath(data, dataPath) : data

          if (typeof displayValue === 'object') {
            displayValue = JSON.stringify(displayValue, null, 2)
          }

          element.textContent = displayValue
          element.classList.remove('loading')
        } catch (error) {
          element.textContent = 'âŒ è·å–å¤±è´¥'
          element.classList.add('error')
        }
      }

      // å®šæ—¶æ›´æ–°å„ä¸ªæµ‹è¯•é¡¹
      function startUpdates() {
        // ç®€å•æ–‡æœ¬ - åªæ›´æ–°ä¸€æ¬¡
        updateDisplay('text1', '/api/text', 'text')

        // åµŒå¥—æ•°æ® - åªæ›´æ–°ä¸€æ¬¡
        updateDisplay('text2', '/api/nested', 'data.message')

        // å®æ—¶æ—¶é—´ - æ¯ç§’æ›´æ–°
        updateDisplay('text3', '/api/time', 'time')
        setInterval(() => updateDisplay('text3', '/api/time', 'time'), 1000)

        // éšæœºæ•° - æ¯ 2 ç§’æ›´æ–°
        updateDisplay('text4', '/api/random', 'value')
        setInterval(() => updateDisplay('text4', '/api/random', 'value'), 2000)

        // è®¡æ•°å™¨ - æ¯ 3 ç§’æ›´æ–°
        updateDisplay('text5', '/api/counter', 'count')
        setInterval(() => updateDisplay('text5', '/api/counter', 'count'), 3000)

        // æ¸©åº¦ - æ¯ 5 ç§’æ›´æ–°
        updateDisplay('text6', '/api/temperature', 'data.value')
        setInterval(() => updateDisplay('text6', '/api/temperature', 'data.value'), 5000)
      }

      // é¡µé¢åŠ è½½å®Œæˆåå¼€å§‹æ›´æ–°
      window.addEventListener('load', startUpdates)

      console.log(
        '%cğŸ‰ æ•°æ®æºæµ‹è¯•é¡µé¢å·²å°±ç»ªï¼',
        'color: #667eea; font-size: 20px; font-weight: bold;',
      )
      console.log(
        '%cğŸ“Œ æç¤ºï¼šæ‰“å¼€å¼€å‘è€…å·¥å…·çš„ Network æ ‡ç­¾å¯ä»¥æŸ¥çœ‹è¯·æ±‚è¯¦æƒ…',
        'color: #666; font-size: 14px;',
      )
      console.log('%cğŸ”— åœ¨æ‚¨çš„ Text ç»„ä»¶ä¸­é…ç½®ä»¥ä¸‹ URLï¼š', 'color: #409eff; font-size: 14px;')
      console.log('   ç®€å•æ–‡æœ¬: ' + window.location.origin + '/api/text')
      console.log('   åµŒå¥—æ•°æ®: ' + window.location.origin + '/api/nested')
      console.log('   å®æ—¶æ—¶é—´: ' + window.location.origin + '/api/time')
    </script>
  </body>
</html>
